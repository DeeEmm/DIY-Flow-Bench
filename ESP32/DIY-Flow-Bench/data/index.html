<!DOCTYPE HTML><html lang="en"><head><title>DIY Flow Bench</title><meta name="viewport" content="width=device-width,initial-scale=1"><style>body,html{height:100vh;margin:0;font-family:Arial;font-size:22px;background-color:#fff;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='562' height='468.3' viewBox='0 0 1080 900'%3E%3Cg fill-opacity='0.03'%3E%3Cpolygon fill='%23444' points='90 150 0 300 180 300'/%3E%3Cpolygon points='90 150 180 0 0 0'/%3E%3Cpolygon fill='%23AAA' points='270 150 360 0 180 0'/%3E%3Cpolygon fill='%23DDD' points='450 150 360 300 540 300'/%3E%3Cpolygon fill='%23999' points='450 150 540 0 360 0'/%3E%3Cpolygon points='630 150 540 300 720 300'/%3E%3Cpolygon fill='%23DDD' points='630 150 720 0 540 0'/%3E%3Cpolygon fill='%23444' points='810 150 720 300 900 300'/%3E%3Cpolygon fill='%23FFF' points='810 150 900 0 720 0'/%3E%3Cpolygon fill='%23DDD' points='990 150 900 300 1080 300'/%3E%3Cpolygon fill='%23444' points='990 150 1080 0 900 0'/%3E%3Cpolygon fill='%23DDD' points='90 450 0 600 180 600'/%3E%3Cpolygon points='90 450 180 300 0 300'/%3E%3Cpolygon fill='%23666' points='270 450 180 600 360 600'/%3E%3Cpolygon fill='%23AAA' points='270 450 360 300 180 300'/%3E%3Cpolygon fill='%23DDD' points='450 450 360 600 540 600'/%3E%3Cpolygon fill='%23999' points='450 450 540 300 360 300'/%3E%3Cpolygon fill='%23999' points='630 450 540 600 720 600'/%3E%3Cpolygon fill='%23FFF' points='630 450 720 300 540 300'/%3E%3Cpolygon points='810 450 720 600 900 600'/%3E%3Cpolygon fill='%23DDD' points='810 450 900 300 720 300'/%3E%3Cpolygon fill='%23AAA' points='990 450 900 600 1080 600'/%3E%3Cpolygon fill='%23444' points='990 450 1080 300 900 300'/%3E%3Cpolygon fill='%23222' points='90 750 0 900 180 900'/%3E%3Cpolygon points='270 750 180 900 360 900'/%3E%3Cpolygon fill='%23DDD' points='270 750 360 600 180 600'/%3E%3Cpolygon points='450 750 540 600 360 600'/%3E%3Cpolygon points='630 750 540 900 720 900'/%3E%3Cpolygon fill='%23444' points='630 750 720 600 540 600'/%3E%3Cpolygon fill='%23AAA' points='810 750 720 900 900 900'/%3E%3Cpolygon fill='%23666' points='810 750 900 600 720 600'/%3E%3Cpolygon fill='%23999' points='990 750 900 900 1080 900'/%3E%3Cpolygon fill='%23999' points='180 0 90 150 270 150'/%3E%3Cpolygon fill='%23444' points='360 0 270 150 450 150'/%3E%3Cpolygon fill='%23FFF' points='540 0 450 150 630 150'/%3E%3Cpolygon points='900 0 810 150 990 150'/%3E%3Cpolygon fill='%23222' points='0 300 -90 450 90 450'/%3E%3Cpolygon fill='%23FFF' points='0 300 90 150 -90 150'/%3E%3Cpolygon fill='%23FFF' points='180 300 90 450 270 450'/%3E%3Cpolygon fill='%23666' points='180 300 270 150 90 150'/%3E%3Cpolygon fill='%23222' points='360 300 270 450 450 450'/%3E%3Cpolygon fill='%23FFF' points='360 300 450 150 270 150'/%3E%3Cpolygon fill='%23444' points='540 300 450 450 630 450'/%3E%3Cpolygon fill='%23222' points='540 300 630 150 450 150'/%3E%3Cpolygon fill='%23AAA' points='720 300 630 450 810 450'/%3E%3Cpolygon fill='%23666' points='720 300 810 150 630 150'/%3E%3Cpolygon fill='%23FFF' points='900 300 810 450 990 450'/%3E%3Cpolygon fill='%23999' points='900 300 990 150 810 150'/%3E%3Cpolygon points='0 600 -90 750 90 750'/%3E%3Cpolygon fill='%23666' points='0 600 90 450 -90 450'/%3E%3Cpolygon fill='%23AAA' points='180 600 90 750 270 750'/%3E%3Cpolygon fill='%23444' points='180 600 270 450 90 450'/%3E%3Cpolygon fill='%23444' points='360 600 270 750 450 750'/%3E%3Cpolygon fill='%23999' points='360 600 450 450 270 450'/%3E%3Cpolygon fill='%23666' points='540 600 630 450 450 450'/%3E%3Cpolygon fill='%23222' points='720 600 630 750 810 750'/%3E%3Cpolygon fill='%23FFF' points='900 600 810 750 990 750'/%3E%3Cpolygon fill='%23222' points='900 600 990 450 810 450'/%3E%3Cpolygon fill='%23DDD' points='0 900 90 750 -90 750'/%3E%3Cpolygon fill='%23444' points='180 900 270 750 90 750'/%3E%3Cpolygon fill='%23FFF' points='360 900 450 750 270 750'/%3E%3Cpolygon fill='%23AAA' points='540 900 630 750 450 750'/%3E%3Cpolygon fill='%23FFF' points='720 900 810 750 630 750'/%3E%3Cpolygon fill='%23222' points='900 900 990 750 810 750'/%3E%3Cpolygon fill='%23222' points='1080 300 990 450 1170 450'/%3E%3Cpolygon fill='%23FFF' points='1080 300 1170 150 990 150'/%3E%3Cpolygon points='1080 600 990 750 1170 750'/%3E%3Cpolygon fill='%23666' points='1080 600 1170 450 990 450'/%3E%3Cpolygon fill='%23DDD' points='1080 900 1170 750 990 750'/%3E%3C/g%3E%3C/svg%3E")}.tablink{background-color:#555;color:#fff;float:left;border:none;outline:0;cursor:pointer;padding:18px 1pc;font-size:22px;width:50vw}.tablink:active,.tablink:hover{background-color:#777}.tabcontentConfig,.tabcontentMain{padding:75pt 20px;height:100vh}.tabcontentConfig{display:none}#About,#Contact,#Home,#News{background-color:#fff}html{font-family:Helvetica;display:inline-block;margin:0 auto}.headerbar{overflow:hidden;background-color:#0a1128;text-align:center}.headerbar h1 a:active,.headerbar h1 a:hover,.headerbar h1 a:link,.headerbar h1 a:visited{color:#fff;text-decoration:none}h1{color:#fff}p{font-size:1.5rem}a:active,a:link,a:visited{color:#0a1128;text-decoration:none}a:hover{color:#666;text-decoration:none}hr{clear:both}.content{padding:30px}.float-right{float:right}.align-center{text-align:center}.clear-both{clear:both}.tile-grid{max-width:700px;margin:0 auto;display:grid;grid-gap:2rem;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr))}.tile{background-color:#fff;box-shadow:2px 2px 9pt 1px #666;text-align:center}.tile-title{font-size:1rem;font-weight:700;color:#034078}.tile-value{font-size:2.1rem;font-weight:700;color:#333}#flow-tile{cursor:pointer}#aflow-tile,#tile-pdiff{display:none;cursor:pointer}#tile-pitot{display:block;cursor:pointer}.config-panel{max-width:650px;margin:auto}.config-row{margin-top:5px}.config-label{padding-left:5px}.config-value{padding-right:50px;width:300px;float:right}.config-text{width:200px;float:right}.config-select{width:13pc;float:right}.units{font-size:.8rem;color:#666}.status_message{font-size:1.2rem;color:#666;margin-bottom:28px}#footer{clear:both;text-align:center}.hidden_div{display:none}.control-button{height:70px}.button,.control-button{display:inline-block;padding:9pt;font-size:22px;width:150px}.button,.button-sml,.control-button{background-color:#008cba;border:none;border-radius:4px;color:#fff;text-decoration:none;margin:2px;cursor:pointer}.button-sml{float:right;padding:6px;font-size:9pt}#record-button,#savedata-button{background-color:#fa7b04}#load-button{background-color:#125ab1}#calibrate-button{background-color:#fa2e04}#clear-message-button{background-color:#999}#file-manager-button,#info-button,#restart-button,#support-button{width:90pt;height:50px}#on-button{background-color:#44b112}#delete-button,#off-button,#restart-button{background-color:#fa2e04}#upload-form{float:right}.tooltip{position:relative;border-bottom:1px dotted #000}.tooltip .tooltiptext{visibility:hidden;width:350px;background-color:#666;color:#fff;text-align:center;border-radius:6px;padding:5px;position:absolute;z-index:1;left:-10px;top:-5px}.tooltip .tooltiptext:after{content:"";position:absolute;top:100vh;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#000 transparent transparent}.tooltip:hover .tooltiptext{visibility:visible}.modal{display:none;position:fixed;z-index:1;left:0;padding-top:50px;width:100vw;height:100vh;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fefefe;margin:1px auto;padding:20px;border:1px solid #888;width:850px;border-radius:5px}@media screen and (max-width:800px){.modal-content{width:100vw}}.file-upload-button{padding:9pt 0;text-align:center}input[type=file]{display:none}.closeFileModalButton,.closeInfoModalButton,.closeSaveDataModalButton,.closeViewDataModalButton{color:#aaa;float:right;font-size:22px;font-weight:700;cursor:pointer}.closeFileModalButton:focus,.closeFileModalButton:hover,.closeInfoModalButton:focus,.closeInfoModalButton:hover,.closeSaveDataModalButton:focus,.closeSaveDataModalButton:hover,.closeViewDataModalButton:focus,.closeViewDataModalButton:hover{color:#000;text-decoration:none;cursor:pointer}.fileSizeTxt{padding:10px}.fileDelLink{padding:10px;left:75pt}.file-link,.fileDelLink{cursor:pointer}.fileListRow{margin-bottom:10px}.column{float:left;height:40px}.left{width:350px;height:40px}.middle{width:200px}.right{width:75pt}.row:after{content:"";display:table;clear:both}.graph-container{margin-top:50px;text-align:center}svg.graph{height:500px;width:50pc}svg.graph .grid{stroke:grey;stroke-dasharray:1 2;stroke-width:1}svg.graph .points{stroke:#fff;stroke-width:3}svg.graph .first_set{fill:#00554d}svg.graph .surfaces{fill-opacity:.5}svg.graph .grid.double{stroke-opacity:.4}svg.graph .labels{font-family:Arial;font-size:14px;kerning:1}svg.graph .labels.x-labels{text-anchor:middle}svg.graph .labels.y-labels{text-anchor:end}.prefTestOK{color:#90ee90}.prefTestNOK,.prefTestOK{font-size:2.1rem;font-weight:700}.prefTestNOK{color:red}.switch-field{margin-top:18px;margin-bottom:18px}.switch-field input{position:absolute!important;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden}.switch-field label{background-color:#989898;color:#fff;font-size:20px;line-height:1;text-align:center;padding:8px;margin-right:-1px;box-shadow:inset 0 1px 3px rgba(0,0,0,.3),0 1px hsla(0,0%,100%,.1);transition:all .1s ease-in-out}.switch-field label:hover{cursor:pointer}.switch-field input:checked+label{background-color:#44b113;box-shadow:none}.switch-field label:first-of-type{border-radius:4px 0 0 4px}.switch-field label:last-of-type{border-radius:0 4px 4px 0}.form{max-width:600px;font-family:Lucida Grande,Tahoma,Verdana,sans-serif;font-weight:400;line-height:1.625;margin:8px auto;padding:1pc}h2{font-size:18px;margin-bottom:8px}#orifice-data{font-size:22px;color:#666;margin-bottom:18px}</style></head><body><div id="saveDataModal" class="modal"><div class="modal-content"><span class="closeSaveDataModalButton">&times;</span><h3>Save Flow v Lift Data</h3><hr><div class="align-center"><form method="POST" action="/api/saveData" enctype="multipart/form-data"><label class="config-label">Filename:</label>&nbsp;<input type="text" value="~FileName~"><br><div class="switch-field"><input type="radio" id="lift-one" name="switch-two" value="1" checked="checked"> <label for="lift-one">~lift1~</label> <input type="radio" id="lift-two" name="switch-two" value="2"> <label for="lift-two">~lift2~</label> <input type="radio" id="lift-three" name="switch-two" value="3"> <label for="lift-three">~lift3~</label> <input type="radio" id="lift-four" name="switch-two" value="4"> <label for="lift-four">~lift4~</label> <input type="radio" id="lift-five" name="switch-two" value="5"> <label for="lift-five">~lift5~</label> <input type="radio" id="lift-six" name="switch-two" value="6"> <label for="lift-six">~lift6~</label> <input type="radio" id="lift-seven" name="switch-two" value="7"> <label for="lift-seven">~lift7~</label> <input type="radio" id="lift-eight" name="switch-two" value="8"> <label for="lift-eight">~lift8~</label> <input type="radio" id="lift-nine" name="switch-two" value="9"> <label for="lift-nine">~lift9~</label> <input type="radio" id="lift-ten" name="switch-two" value="10"> <label for="lift-ten">~lift10~</label> <input type="radio" id="lift-eleven" name="switch-two" value="10"> <label for="lift-eleven">~lift11~</label> <input type="radio" id="lift-twelve" name="switch-two" value="10"> <label for="lift-twelve">~lift12~</label></div><input id="data" type="file" name="wtf"> <input class="button submit-button" type="submit" value="Save"></form></div><div class="clear-both">&nbsp;</div></div></div><div id="viewDataModal" class="modal"><div class="modal-content"><span class="closeViewDataModalButton">&times;</span><h3>Flow v Lift Profile</h3><hr><br><div class="float-right"><form method="POST" action="/api/viewdata" enctype="multipart/form-data"><input class="button file-submit-button" type="submit" value="Load"></form></div><div class="clear-both">&nbsp;</div></div></div><div id="fileModal" class="modal"><div class="modal-content"><span class="closeFileModalButton">&times;</span><h3>File Manager</h3><div id="file_list">~FILE_LIST~</div><br><hr><br><div class="float-right"><form method="POST" action="/api/file/upload" enctype="multipart/form-data"><label for="data" class="file-upload-button button">Select File</label> <input id="data" type="file" name="wtf"> <input class="button file-submit-button" type="submit" value="Upload"></form></div><div class="clear-both">&nbsp;</div></div></div><div id="infoModal" class="modal"><div class="modal-content"><span class="closeInfoModalButton">&times;</span><h3>DIY Flow Bench</h3><h4>Firmware</h4><hr><div class="config-row"><label class="config-label">Version:</label><span class="config-value" id="RELEASE">~RELEASE~</span></div><div class="config-row"><label class="config-label">Build:</label><span class="config-value" id="BUILD_NUMBER">~BUILD_NUMBER~</span></div><h4>Storage</h4><hr><div class="config-row"><label class="config-label">Memory Size:</label><span class="config-value" id="SPIFFS_MEM_SIZE">~SPIFFS_MEM_SIZE~</span> (bytes)</div><div class="config-row"><label class="config-label">Memory Used:</label><span class="config-value" id="SPIFFS_MEM_USED">~SPIFFS_MEM_USED~</span> (bytes)</div><h4>Network</h4><hr><div class="config-row"><label class="config-label">IP Address:</label><span class="config-value" id="LOCAL_IP_ADDRESS">~LOCAL_IP_ADDRESS~</span></div><div class="config-row"><label class="config-label">Hostname:</label><span class="config-value" id="HOSTNAME">http://~HOSTNAME~.local</span></div><h4>Hardware Configuration</h4><hr><div class="config-row"><label class="config-label">Bench Type:</label><span class="config-value" id="BENCHTYPE">~BENCHTYPE~</span></div><div class="config-row"><label class="config-label">Board Type:</label><span class="config-value" id="BOARDTYPE">~BOARDTYPE~</span></div><h4>Sensor Configuration</h4><hr><div class="config-row"><label class="config-label">MAF Data File:</label><span class="config-value" id="MAF_SENSOR">~MAF_SENSOR~</span></div><div class="config-row"><label class="config-label">Ref Press Sensor:</label><span class="config-value" id="PREF_SENSOR">~PREF_SENSOR~</span></div><div class="config-row"><label class="config-label">Temp Sensor:</label><span class="config-value" id="TEMP_SENSOR">~TEMP_SENSOR~</span></div><div class="config-row"><label class="config-label">Humidity Sensor:</label><span class="config-value" id="RELH_SENSOR">~RELH_SENSOR~</span></div><div class="config-row"><label class="config-label">Baro Sensor:</label><span class="config-value" id="BARO_SENSOR">~BARO_SENSOR~</span></div><div class="config-row"><label class="config-label">Pitot Sensor:</label><span class="config-value" id="PITOT_SENSOR">~PITOT_SENSOR~</span></div><div class="config-row"><label class="config-label">Differential Sensor:</label><span class="config-value" id="PDIFF_SENSOR">~PDIFF_SENSOR~</span></div></div></div><div class="headerbar"><h1><a href="/" id="PAGE_TITLE" alt="DIY Flow Bench">DIY Flow Bench</a></h1></div><button class="tablink" onclick="openTab('dashboard', this)" id="load-dashboard-button">Dashboard</button> <button class="tablink" onclick="openTab('configuration', this)" id="load-config-button">Configuration</button><div id="dashboard" class="tabcontent tabcontentMain"><div class="content"><div class="tile-grid"><div class="tile tile-pref"><p class="tile-title">Depression</p><p><span class="tile-value" id="PREF">&nbsp;</span></p><p class="units">inH2O</p></div><div class="tile tile-flow" id="flow-tile"><p class="tile-title">Flow Rate</p><p><span class="tile-value" id="FLOW">&nbsp;</span></p><p class="units">CFM</p></div><div class="tile tile-aflow" id="aflow-tile"><p class="tile-title">Adjusted Flow</p><p><span class="tile-value" id="AFLOW">&nbsp;</span></p><p class="units">cfm&nbsp;&commat;&nbsp;<span id="PADJUST">28</span>&nbsp;inH2O</p></div><div class="tile tile-pitot" id="tile-pitot"><p class="tile-title">Pitot</p><p><span class="tile-value" id="PITOT">&nbsp;</span></p><p class="units">inH2O</p></div><div class="tile tile-pdiff" id="tile-pdiff"><p class="tile-title">Diff Pressure</p><p><span class="tile-value" id="PDIFF">&nbsp;</span></p><p class="units">inH2O</p></div><div class="tile tile-temp"><p class="tile-title">Temperature</p><p><span class="tile-value" id="TEMP">&nbsp;</span></p><p class="units">~TEMP_UNIT~</p></div><div class="tile tile-baro"><p class="tile-title">Baro Pressure</p><p><span class="tile-value" id="BARO">&nbsp;</span></p><p class="units">millibar (hPa)</p></div><div class="tile tile-relh"><p class="tile-title">Humidity</p><p><span class="tile-value" id="RELH">&nbsp;</span></p><p class="units">&percnt;RelH</p></div></div></div><div class="align-center"><div class="status_message"><span id="STATUS_MESSAGE">~STATUS_MESSAGE~</span></div><div class="hidden_div"><br>Ref Pressure mV: <span id="PREF_MV">&nbsp;</span><br>MAF mV: <span id="MAF_MV">&nbsp;</span><br>Pitot mV: <span id="PITOT_MV">&nbsp;</span></div>~ORIFICE_LIST~ <button id="on-button" class="control-button">START BENCH</button> <button id="off-button" class="control-button">STOP BENCH</button> <button id="clear-message-button" class="control-button">CLEAR ALARM</button></div><br><div id="footer"><a href="https://diyflowbench.com" target="new">DIYFlowBench.com</a></div></div><div id="configuration" class="tabcontent tabcontentConfig"><div class="config-panel"><p style="text-align:center"><button id="file-manager-button" class="button">Files</button> <button id="info-button" class="button">Info</button> <button id="support-button" class="button" onclick="window.open('https://github.com/DeeEmm/DIY-Flow-Bench/wiki','_blank')">Support</button> <button id="restart-button" class="button">Reboot</button></p><br><form method="POST" action="/api/saveconfig"><h2>System Settings</h2><h3>WiFi Info</h3><div class="config-row tooltip"><label class="config-label">WiFi SSID:</label>&nbsp;<input type="text" id="CONF_WIFI_SSID" name="CONF_WIFI_SSID" value="~CONF_WIFI_SSID~" class="config-text"><span class="tooltiptext">The name of your WiFi network</span></div><div class="config-row tooltip"><label class="config-label">WiFi Password:</label>&nbsp;<input type="text" id="CONF_WIFI_PSWD" name="CONF_WIFI_PSWD" value="~CONF_WIFI_PSWD~" class="config-text"><span class="tooltiptext">Your WiFi Password</span></div><div class="config-row tooltip"><label class="config-label">WiFi AP SSID:</label>&nbsp;<input type="text" id="CONF_WIFI_AP_SSID" name="CONF_WIFI_AP_SSID" value="~CONF_WIFI_AP_SSID~" class="config-text"><span class="tooltiptext">Access-Point name for direct WiFi connection</span></div><div class="config-row tooltip"><label class="config-label">WiFi AP Password:</label>&nbsp;<input type="text" id="CONF_WIFI_AP_PSWD" name="CONF_WIFI_AP_PSWD" value="~CONF_WIFI_AP_PSWD~" class="config-text"><span class="tooltiptext">Access-Point password</span></div><div class="config-row tooltip"><label class="config-label">Hostname:</label>&nbsp;<input type="text" id="CONF_HOSTNAME" name="CONF_HOSTNAME" value="~CONF_HOSTNAME~" class="config-text"><span class="tooltiptext">DNS Hostname (used for connecting via URL e.g. http://diyfb.local)</span></div><div class="config-row tooltip"><label class="config-label">WiFi Timeout:</label>&nbsp;<input type="text" id="CONF_WIFI_TIMEOUT" name="CONF_WIFI_TIMEOUT" value="~CONF_WIFI_TIMEOUT~" class="config-text"><span class="tooltiptext">Number of milliseconds before WiFi retries connection</span></div><br><h3>API Settings</h3><div class="config-row tooltip"><label class="config-label">API Delimiter:</label>&nbsp;<input type="text" id="CONF_API_DELIM" name="CONF_API_DELIM" value="~CONF_API_DELIM~" class="config-text"><span class="tooltiptext">Character used to delimit API / Serial data</span></div><div class="config-row tooltip"><label class="config-label">Serial Baud Rate:</label>&nbsp;<input type="text" id="CONF_SERIAL_BAUD_RATE" name="CONF_SERIAL_BAUD_RATE" value="~CONF_SERIAL_BAUD_RATE~" class="config-text"><span class="tooltiptext">Baud rate for serial communication</span></div><br><h3>Data Filters</h3><div class="config-row tooltip"><label class="config-label">Min Flow Rate:</label>&nbsp;<input type="text" id="CONF_MIN_FLOW_RATE" name="CONF_MIN_FLOW_RATE" value="~CONF_MIN_FLOW_RATE~" class="config-text"><span class="tooltiptext">Used to filter out non-zero flow values when bench is not running</span></div><div class="config-row tooltip"><label class="config-label">Min Bench Pressure:</label>&nbsp;<input type="text" id="CONF_MIN_BENCH_PRESSURE" name="CONF_MIN_BENCH_PRESSURE" value="~CONF_MIN_BENCH_PRESSURE~" class="config-text"><span class="tooltiptext">Minimum reference pressure that bench is considered running</span></div><div class="config-row tooltip"><label class="config-label">MAF Min volts:</label>&nbsp;<input type="text" id="CONF_MAF_MIN_VOLTS" name="CONF_MAF_MIN_VOLTS" value="~CONF_MAF_MIN_VOLTS~" class="config-text"><span class="tooltiptext">Minimum MAF voltage that bench is considered running</span></div><div class="config-row tooltip"><label class="config-label">Cyclical Average Buffer:</label>&nbsp;<input type="text" id="CONF_CYCLIC_AVERAGE_BUFFER" name="CONF_CYCLIC_AVERAGE_BUFFER" value="~CONF_CYCLIC_AVERAGE_BUFFER~" class="config-text"><span class="tooltiptext">Mean buffer size - Used for smoothing results.</span></div><br><h3>Bench Settings</h3><div class="config-row tooltip"><label class="config-label">Refresh Rate:</label>&nbsp;<input type="text" id="CONF_REFRESH_RATE" name="CONF_REFRESH_RATE" value="~CONF_REFRESH_RATE~" class="config-text"><span class="tooltiptext">Screen refresh rate in milliseconds</span></div><div class="config-row tooltip"><label class="config-label">Conversion Depression:</label>&nbsp;<input type="text" id="ADJ_FLOW_DEPRESSION" name="ADJ_FLOW_DEPRESSION" value="~ADJ_FLOW_DEPRESSION~" class="config-text"><span class="tooltiptext">Bench depression used for adjusted flow calcs</span></div><div class="config-row tooltip"><label class="config-label">Temperature Unit:</label><span>~TEMPERATURE_DROPDOWN~</span><span class="tooltiptext">Display unit of temperature</span></div><div class="config-row tooltip"><label class="config-label">Valve Lift Interval:</label>&nbsp;<input type="text" id="VALVE_LIFT_INTERVAL" name="VALVE_LIFT_INTERVAL" value="~VALVE_LIFT_INTERVAL~" class="config-text"><span class="tooltiptext">Distance between valve lift data points</span></div><br><div class="float-right"><input id="save-config-button" type="submit" class="button" value="Save"></div><br><br></form><form method="POST" action="/api/savecalibrationsettings"></form><hr><h2>Calibration Settings</h2><div class="config-row tooltip"><label class="config-label">Calibration Orifice Flow Rate:</label>&nbsp;<input type="text" id="CONF_CAL_FLOW_RATE" name="CONF_CAL_FLOW_RATE" value="~CONF_CAL_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of calibration orifice in cfm</span></div><div class="config-row tooltip"><label class="config-label">Calibration Orifice Test Pressure:</label>&nbsp;<input type="text" id="CONF_CAL_REF_PRESS" name="CONF_CAL_REF_PRESS" value="~CONF_CAL_REF_PRESS~" class="config-text"><span class="tooltiptext">Reference depression of calibration orifice in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Leak Test Tolerance:</label>&nbsp;<input type="text" id="CONF_LEAK_TEST_TOLERANCE" name="CONF_LEAK_TEST_TOLERANCE" value="~CONF_LEAK_TEST_TOLERANCE~" class="config-text"><span class="tooltiptext">Maximum allowable deviation in cfm</span></div><div class="config-row tooltip"><label class="config-label">Leak Test Threshold:</label>&nbsp;<input type="text" id="CONF_LEAK_TEST_THRESHOLD" name="CONF_LEAK_TEST_THRESHOLD" value="~CONF_LEAK_TEST_THRESHOLD~" class="config-text"><span class="tooltiptext">Depression value above which leak test activates</span></div><br><div class="float-right"><input id="save-config-button" type="submit" class="button" value="Save"></div><br><br><form method="POST" action="/api/saveorificedata"></form><hr><h2>Orifice Data</h2><div class="config-row tooltip"><label class="config-label">Orifice #1 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE1_FLOW_RATE" name="ORIFICE1_FLOW_RATE" value="~ORIFICE1_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #1 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #1 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE1_TEST_PRESSURE" name="ORIFICE1_TEST_PRESSURE" value="~ORIFICE1_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #1 in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Orifice #2 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE2_FLOW_RATE" name="ORIFICE2_FLOW_RATE" value="~ORIFICE2_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #2 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #2 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE2_TEST_PRESSURE" name="ORIFICE2_TEST_PRESSURE" value="~ORIFICE2_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #2 in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Orifice #3 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE3_FLOW_RATE" name="ORIFICE3_FLOW_RATE" value="~ORIFICE3_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #3 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #3 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE3_TEST_PRESSURE" name="ORIFICE3_TEST_PRESSURE" value="~ORIFICE3_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #3 in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Orifice #4 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE4_FLOW_RATE" name="ORIFICE4_FLOW_RATE" value="~ORIFICE4_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #4 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #4 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE4_TEST_PRESSURE" name="ORIFICE4_TEST_PRESSURE" value="~ORIFICE4_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #4 in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Orifice #5 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE5_FLOW_RATE" name="ORIFICE5_FLOW_RATE" value="~ORIFICE5_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #5 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #5 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE5_TEST_PRESSURE" name="ORIFICE5_TEST_PRESSURE" value="~ORIFICE5_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #5 in in/wg</span></div><div class="config-row tooltip"><label class="config-label">Orifice #6 Flow Rate:</label>&nbsp;<input type="text" id="ORIFICE6_FLOW_RATE" name="ORIFICE6_FLOW_RATE" value="~ORIFICE6_FLOW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of orifice #6 in cfm</span></div><div class="config-row tooltip"><label class="config-label">Orifice #6 Test Pressure:</label>&nbsp;<input type="text" id="ORIFICE6_TEST_PRESSURE" name="ORIFICE6_TEST_PRESSURE" value="~ORIFICE6_TEST_PRESSURE~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #6 in in/wg</span></div><br><div class="float-right"><input id="save-config-button" type="submit" class="button" value="Save"></div><br><br><form method="POST" action="/api/saveliftpointdata"></form><hr><h2>Valve Lift Data</h2><div class="config-row tooltip"><label class="config-label">Lift Interval:</label>&nbsp;<input type="text" id="LIFT_INTERVAL" name="LIFT_INTERVAL" value="~LIFT_INTERVAL~" class="config-text"><span class="tooltiptext">Valve lift interval</span></div><div class="float-right"><input id="save-config-button" type="submit" class="button" value="Save"></div><br><br><br><br><h2>Calibration Data</h2><div class="config-row tooltip"><label class="config-label">Calibration Offset:</label>&nbsp;<input disabled="disabled" type="text" id="FLOW_OFFSET" name="FLOW_OFFSET" value="~FLOW_OFFSET~" class="config-text"><span class="tooltiptext">Measured calibration offset</span></div><div class="config-row tooltip"><label class="config-label">Leak Test Vac Value:</label>&nbsp;<input disabled="disabled" type="text" id="LEAK_CAL_VAC_VAL" name="LEAK_CAL_VAC_VAL" value="~LEAK_CAL_VAC_VAL~" class="config-text"><span class="tooltiptext">Measured leak test value</span></div><div class="config-row tooltip"><label class="config-label">Leak Test Pressure Value:</label>&nbsp;<input disabled="disabled" type="text" id="LEAK_CAL_PRESS_VAL" name="LEAK_CAL_PRESS_VAL" value="~LEAK_CAL_PRESS_VAL~" class="config-text"><span class="tooltiptext">Measured leak test value</span></div><br><div class="float-right"><button id="calibrate-button" class="button">Calibrate Flow Offset</button><button id="leak-cal-button" class="button">Calibrate Leak Test</button></div><br></div></div><script>var leakCalVal,flowCalVal,leakCalTolerance,leakTestThreshold;window.addEventListener("load",onLoad);var fileModal=document.getElementById("fileModal"),infoModal=document.getElementById("infoModal"),saveDataModal=document.getElementById("saveDataModal"),viewDataModal=document.getElementById("viewDataModal"),closeFileModalButton=document.getElementsByClassName("closeFileModalButton")[0],closeInfoModalButton=document.getElementsByClassName("closeInfoModalButton")[0],closeSaveDataModalButton=document.getElementsByClassName("closeSaveDataModalButton")[0],closeViewDataModalButton=document.getElementsByClassName("closeViewDataModalButton")[0];if(window.EventSource){var source=new EventSource("/events");source.addEventListener("JSON_DATA",(function(e){var t=JSON.parse(e.data);for(key in t)try{"string"==typeof t[key]||t[key]instanceof String?document.getElementById(key).innerHTML=t[key]:document.getElementById(key).innerHTML=t[key].toFixed(2)}catch(e){console.log("Missing or incorrect data"),console.log(key+" : "+t[key])}}),!1)}function onFileUpload(e){this.setState({file:e.target.files[0]});const{file:t}=this.state,n=new FormData;n.append("data",t),fetch("/upload",{method:"POST",body:n}).catch((e=>{console.log("Request failed",e)}))}function onLoad(e){initialiseButtons();switch(new URLSearchParams(window.location.search).get("view")){case"upload":document.getElementById("load-config-button").click(),document.getElementById("fileModal").style.display="block";break;case"config":document.getElementById("load-config-button").click()}console.log("Page Loaded")}function initialiseButtons(){var e=new XMLHttpRequest;document.getElementById("saveData-button").addEventListener("click",(function(){document.getElementById("saveDataModal").style.display="block"})),document.getElementById("viewData-button").addEventListener("click",(function(){document.getElementById("viewDataModal").style.display="block"})),document.getElementById("file-manager-button").addEventListener("click",(function(){document.getElementById("fileModal").style.display="block"})),document.getElementById("info-button").addEventListener("click",(function(){document.getElementById("infoModal").style.display="block"})),document.getElementById("flow-tile").addEventListener("click",(function(){document.getElementById("flow-tile").style.display="none",document.getElementById("aflow-tile").style.display="block"})),document.getElementById("aflow-tile").addEventListener("click",(function(){document.getElementById("aflow-tile").style.display="none",document.getElementById("flow-tile").style.display="block"})),document.getElementById("tile-pitot").addEventListener("click",(function(){document.getElementById("tile-pitot").style.display="none",document.getElementById("tile-pdiff").style.display="block"})),document.getElementById("tile-pdiff").addEventListener("click",(function(){document.getElementById("tile-pdiff").style.display="none",document.getElementById("tile-pitot").style.display="block"})),document.getElementById("on-button").addEventListener("click",(function(){console.log("Bench On"),e.open("GET","/api/bench/on"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()})),document.getElementById("off-button").addEventListener("click",(function(){console.log("Bench Off"),e.open("GET","/api/bench/off"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()})),document.getElementById("calibrate-button").addEventListener("click",(function(){console.log("Calibrate FLow Offset"),e.open("GET","/api/bench/calibrate"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()})),document.getElementById("leak-cal-button").addEventListener("click",(function(){console.log("Leak Test Calibration"),e.open("GET","/api/bench/leakcal"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()})),document.getElementById("clear-message-button").addEventListener("click",(function(){console.log("Clear Message"),e.open("GET","/api/clear-message"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()})),document.getElementById("restart-button").addEventListener("click",(function(){console.log("System Reboot"),e.open("GET","/api/bench/reboot"),e.onload=function(){200===e.status&&(window.location.href="/")},e.send()}))}function openTab(e,t){var n,o;for(o=document.getElementsByClassName("tabcontent"),n=0;n<o.length;n++)o[n].style.display="none";document.getElementById(e).style.display="block"}closeFileModalButton.onclick=function(){fileModal.style.display="none"},closeInfoModalButton.onclick=function(){infoModal.style.display="none"},closeSaveDataModalButton.onclick=function(){saveDataModal.style.display="none"},closeViewDataModalButton.onclick=function(){viewDataModal.style.display="none"},window.onclick=function(e){e.target!=fileModal&&e.target!=infoModal&&e.target!=saveDataModal&&e.target!=viewDataModal||(fileModal.style.display="none",infoModal.style.display="none",saveDataModal.style.display="none",viewDataModal.style.display="none")},document.addEventListener("keydown",(({key:e})=>{"Escape"===e&&(fileModal.style.display="none",infoModal.style.display="none",saveDataModal.style.display="none",viewDataModal.style.display="none")}));</script></body></html>