
    <!-- File Manager Modal -->
    <div id="fileModal" class="modal">
        <div class="modal-content">
          <span class="closeFileModalButton">&times;</span>
          <h3>~LANG_GUI_FILE_MANAGER~</h3>
          <div id="file_list">~FILE_LIST~</div>
          <br>
          <hr>
          <br>
          <div class="float-right">
            <form method="POST" action="/api/file/upload" enctype="multipart/form-data">
              <div class="input_container">
                <input type="file" name="upload" id="fileUpload">
                <input type='submit' value='~LANG_GUI_FILEMANAGER_UPLOAD~' class="button file-submit-button">
              </div>
            </form>
          </div>
          <div class="clear-both">&nbsp;</div>
        </div>        
      </div>
  
      <!-- Info Modal -->
      <div id="infoModal" class="modal">
        <div class="info-modal-content row">
          <span class="closeInfoModalButton">&times;</span>
          <div class="row info-modal">
              <div class="column">
              <h4>~LANG_GUI_FIRMWARE~</h4>
              <hr>
              <div class="config-row"><label class="config-label">~LANG_GUI_VERSION~: </label><span class="config-value" id="RELEASE">~RELEASE~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_BUILD~:  </label><span class="config-value" id="BUILD_NUMBER">~BUILD_NUMBER~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_GUI~: </label><span class="config-value" id="VERSION">@@version@@</span></div>
              <h4>~LANG_GUI_STORAGE~</h4>
              <hr>
              <div class="config-row"><label class="config-label">~LANG_GUI_MEM_SIZE~:  </label><span class="config-value" id="SPIFFS_MEM_SIZE">~SPIFFS_MEM_SIZE~</span> (bytes)</div>
              <div class="config-row"><label class="config-label">~LANG_GUI_MEM_USED~:  </label><span class="config-value" id="SPIFFS_MEM_USED">~SPIFFS_MEM_USED~</span> (bytes)</div>
              <h4>~LANG_GUI_NETWORK~</h4>
              <hr>
              <div class="config-row"><label class="config-label">~LANG_GUI_IP_ADDRESS~:  </label><span class="config-value" id="LOCAL_IP_ADDRESS">~LOCAL_IP_ADDRESS~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_HOSTNAME~:  </label><span class="config-value" id="sHOSTNAME">http://~sHOSTNAME~.local</span></div>
            </div>
            <div class="column">
              <!-- <div class="config-row"><label class="config-label">Uptime:  </label><span class="config-value" id="UPTIME">~UPTIME~</span></div> -->
              <h4>~LANG_GUI_HARDWARE_CONFIG~</h4>
              <hr>
              <div class="config-row"><label class="config-label">~LANG_GUI_BENCH_TYPE~:  </label><span class="config-value" id="iBENCH_TYPE">~iBENCH_TYPE~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_BOARD_TYPE~:  </label><span class="config-value" id="BOARD_TYPE">~BOARD_TYPE~</span></div>
              <!-- <div class="config-row"><label class="config-label">Boot Time:  </label><span class="config-value" id="BOOT_TIME">~BOOT_TIME~</span></div> -->
              <h4>~LANG_GUI_SENS_CONFIG~</h4>
              <hr>
              <div class="config-row"><label class="config-label">~LANG_GUI_MAF_DATA_FILE~:  </label><span class="config-value" id="MAF_SENSOR"><a href="~MAF_LINK~" target="new">~MAF_SENSOR~</a></span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_REF_PRESSURE_SENSOR~:  </label><span class="config-value" id="PREF_SENSOR">~PREF_SENSOR~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_TEMP_SENSOR~:  </label><span class="config-value" id="TEMP_SENSOR">~TEMP_SENSOR~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_HUMIDITY_SENSOR~:  </label><span class="config-value" id="RELH_SENSOR">~RELH_SENSOR~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_BARO_SENSOR~:  </label><span class="config-value" id="BARO_SENSOR">~BARO_SENSOR~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_PITOT_SENSOR~:  </label><span class="config-value" id="PITOT_SENSOR">~PITOT_SENSOR~</span></div>
              <div class="config-row"><label class="config-label">~LANG_GUI_DIFFERENTIAL_SENSOR~:  </label><span class="config-value" id="PDIFF_SENSOR">~PDIFF_SENSOR~</span></div>
              </div>
            </div>
        </div>        
      </div>
        
  
    <!--Update modal-->
    <div id="updateModal" class="modal">
        <div class="modal-content updateModal">
          <span class="closeUpdateModalButton">&times;</span>
          <div class="align-center">
            <h3>~LANG_GUI_UPLOAD_FIRMWARE_BINARY~</h3>
            <hr>
            <br>
            <form method='POST' action='/api/update' enctype='multipart/form-data'>
              <div class="input_container">
                <input type="file" name="update" id="fileUpload">
                <input type='submit' value='~LANG_GUI_FIRMWARE_UPDATE~' class="button file-submit-button">
              </div>
            </form>
          </div>
        </div>        
      </div>





     <!-- settings tab -->
      <div id="configuration">
        <div class="config-panel">
          <p style="text-align:center"><button id="file-manager-button" class="button">Files</button> <button id="info-button" class="button">Info</button> <button id="support-button" class="button" onclick="window.open('https://github.com/DeeEmm/DIY-Flow-Bench/wiki','_blank')">Support</button> <button id="restart-button" class="button" >Reboot</button> <button id="update-button" class="button">Update</button></p>       
          <br>
          <form method="POST" action="/api/saveconfig">
        <h2>~LANG_GUI_SYS_SETTINGS~</h2>
        <fieldset>
          <legend>~LANG_GUI_WIFI_INFO~</legend>        
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_WIFI_SSID~:</label>&nbsp;<input type="text" id="sWIFI_SSID"  name="sWIFI_SSID" value="~sWIFI_SSID~" class="config-text" ><span class="tooltiptext">The name of your WiFi network</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_WIFI_PASS~:</label>&nbsp;<input type="text" id="sWIFI_PSWD" name="sWIFI_PSWD" value="~sWIFI_PSWD~" class="config-text"><span class="tooltiptext">Your WiFi Password</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_WIFI_AP_SSID~:</label>&nbsp;<input type="text" id="sWIFI_AP_SSID" name="sWIFI_AP_SSID" value="~sWIFI_AP_SSID~" class="config-text" ><span class="tooltiptext">Access-Point name for direct WiFi connection</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_WIFI_AP_PASS~:</label>&nbsp;<input type="text" id="sWIFI_AP_PSWD" name="sWIFI_AP_PSWD" value="~sWIFI_AP_PSWD~" class="config-text"><span class="tooltiptext">Access-Point password</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_HOSTNAME~:</label>&nbsp;<input type="text" id="sHOSTNAME" name="sHOSTNAME" value="~sHOSTNAME~" class="config-text"><span class="tooltiptext">DNS Hostname (used for connecting via URL e.g. http://diyfb.local)</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_WIFI_TIMEOUT~:</label>&nbsp;<input type="text" id="iWIFI_TIMEOUT" name="iWIFI_TIMEOUT" value="~iWIFI_TIMEOUT~" class="config-text"><span class="tooltiptext">Number of milliseconds before WiFi retries connection</span></div>
        </fieldset>
        <br>
        <fieldset>
          <legend>~LANG_GUI_GENERAL_SETTINGS~</legend>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_BENCH_TYPE~:</label><span>~iBENCH_TYPE_DROPDOWN~</span><span class="tooltiptext">Select bench type</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_MAF_DIAMETER~:</label>&nbsp;<input type="text" id="iMAF_DIAMETER" name="iMAF_DIAMETER" value="~iMAF_DIAMETER~" class="config-text"><span class="tooltiptext">Diameter of MAF Housing. (Leave as zero to use standard housing diameter)</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_REFRESH_RATE~:</label>&nbsp;<input type="text" id="iREFRESH_RATE" name="iREFRESH_RATE" value="~iREFRESH_RATE~" class="config-text"><span class="tooltiptext">Screen refresh rate in milliseconds</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_TEMPERATURE_UNIT~:</label><span>~TEMPERATURE_DROPDOWN~</span><span class="tooltiptext">Display unit of temperature</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_LIFT_INTERVAL~:</label>&nbsp;<input type="text" id="dLIFT_INTERVAL" name="dLIFT_INTERVAL" value="~dLIFT_INTERVAL~" class="config-text"><span class="tooltiptext">Distance between valve lift data points</span></div>
        </fieldset>
        <br>
        <fieldset>
          <legend>~LANG_GUI_RESOLUTION_AND_ACCURACY~</legend>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_GEN_DECIMAL_ACCURACY~:</label>
            <span>~iGEN_DECI_ACC_DROPDOWN~</span>
            <span class="tooltiptext">Number of decimal places used in UI</span>
          </div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_FLOW_DECIMAL_ROUNDING~:</label>
            <span>~iFLOW_DECI_ACC_DROPDOWN~</span>
            <span class="tooltiptext">Number of decimal places used in UI for flow values</span>
          </div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_FLOW_VAL_ROUNDING~:</label>
            <span>~iROUNDING_TYP_DROPDOWN~</span>
            <span class="tooltiptext">Rounding used in flow calculations</span>
          </div>
        </fieldset>
        <br>
        <fieldset>
          <legend>~LANG_GUI_DATA_FILTERS~</legend>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_DATA_FLTR_TYP~:</label><span>~iDATA_FLTR_TYP_DROPDOWN~</span><span class="tooltiptext">Select data filter type</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_MIN_FLOW_RATE~:</label>&nbsp;<input type="text" id="iMIN_FLOW_RATE" name="iMIN_FLOW_RATE" value="~iMIN_FLOW_RATE~" class="config-text"><span class="tooltiptext">Used to filter out non-zero flow values when bench is not running </span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_MIN_PRESSUREURE~:</label>&nbsp;<input type="text" id="iMIN_PRESSURE" name="iMIN_PRESSURE" value="~iMIN_PRESSURE~" class="config-text"><span class="tooltiptext">Minimum reference pressure that bench is considered running</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_MAF_MIN_VOLTS~:</label>&nbsp;<input type="text" id="iMAF_MIN_VOLTS" name="iMAF_MIN_VOLTS" value="~iMAF_MIN_VOLTS~" class="config-text"><span class="tooltiptext">Minimum MAF voltage that bench is considered running</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_CYCLIC_AVERAGE_BUFFER~:</label>&nbsp;<input type="text" id="iCYC_AV_BUFF" name="iCYC_AV_BUFF" value="~iCYC_AV_BUFF~" class="config-text"><span class="tooltiptext">Mean buffer size - Used for smoothing results.</span></div>
        </fieldset>
        <br>
        <fieldset>
          <legend>~LANG_GUI_CONVERSION_SETTINGS~</legend>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ADJ_FLOW_DEP~:</label>&nbsp;<input type="text" id="iADJ_FLOW_DEP" name="iADJ_FLOW_DEP" value="~iADJ_FLOW_DEP~" class="config-text"><span class="tooltiptext">Bench depression used for adjusted flow calcs</span></div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_STANDARD_REF_CONDITIONS~:</label>
            <select name='iSTD_REF' class='config-select'>
          <option value='1' ~iSTD_REF_1~>ISO 5011 (20&degC(68&degF) 1atm(101.3kPa) 50%RH)</option>
          <option value='2' ~iSTD_REF_2~>ISO 1585 (25&degC(68&degF) 100kPa  0%RH)</option>
          <option value='3' ~iSTD_REF_3~>ISA (15&degC(59&degF) 1atm(101.325kPa)  0%RH)</option>
          <option value='4' ~iSTD_REF_4~>ISO 13443 (15&degC(59&degF) 1atm(101.325kPa)  0%RH)</option>
          <option value='5' ~iSTD_REF_5~>ISO 2533 (15&degC(59&degF) 1atm(101.325kPa)  0% RH)</option>
          <!--<option value='6'>NIST / EPA (20&degC(68&degF) 1atm(101.325kPa)  --RH(unspecified))</option>-->
            </select>
            <span class="tooltiptext">Standardised Temp, baro and humidity conditions.</span>
          </div>
          <div class="config-row tooltip"><label class="config-label">~LANG_GUI_STANDARDISED_ADJ_FLOW~:</label>&nbsp;<input type="checkbox" id="iSTD_ADJ_FLOW" name="iSTD_ADJ_FLOW" value="1" ~iSTD_ADJ_FLOW~ class="config-text"><span class="tooltiptext">Adjusted flow uses SCFM</span></div>
        </fieldset>
        <br>
          <fieldset>
            <legend>~LANG_GUI_DATA_CAPTURE_SETTINGS~</legend>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_CAPTURE_DATATYPE~:</label>
            <select name='DATA_COLLECTION_STD' class='config-select'></select>
              <option value='1' ~CAP_MODE_1~>Flow (ACFM)</option>
              <option value='1' ~CAP_MODE_2~>Standard Flow (ACFM - ~STANDARD_FLOW~)</option>
              <option value='2' ~CAP_MODE_3~>Adjusted Flow (ACFM @ ~iADJ_FLOW_DEP~ in/H2O)</option>
              <option value='3' ~CAP_MODE_4~>Adjusted Standard Flow (ACFM - ~STANDARD_FLOW~ @ ~iADJ_FLOW_DEP~ in/H2O)</option>
              <option value='4' ~CAP_MODE_5~>MAF Flow (~MAF_FLOW_UNIT~)</option>
            </select>
            <span class="tooltiptext">Default data type for data capture.</span>
               </div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_DATA_GRAPH_MAX_VAL~:</label>
            <select name='iDATAGRAPH_MAX' class='config-select'>
              <option value='0' ~iDATAGRAPH_MAX_0~>~LANG_GUI_AUTO~</option>
              <option value='1' ~iDATAGRAPH_MAX_1~>250 cfm</option>
              <option value='2' ~iDATAGRAPH_MAX_2~>500 cfm</option>
              <option value='3' ~iDATAGRAPH_MAX_3~>1000 cfm</option>
            </select>
            <span class="tooltiptext">Set max scaling for Data Graph.</span>
               </div>
          </fieldset>
               <br>
          <fieldset>
            <legend>~LANG_GUI_CAL_ORIFICE_SETTINGS~</legend>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_CAL_ORIFICE_FLOW_RATE~:</label>&nbsp;<input type="text" id="dCAL_FLW_RATE" name="dCAL_FLW_RATE" value="~dCAL_FLW_RATE~" class="config-text"><span class="tooltiptext">Flow rate of calibration orifice in cfm</span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_CAL_ORIFICE_TEST_PRESS~:</label>&nbsp;<input type="text" id="dCAL_REF_PRESS" name="dCAL_REF_PRESS" value="~dCAL_REF_PRESS~" class="config-text"><span class="tooltiptext">Reference depression of calibration orifice in in/wg</span></div>
          </fieldset>
               <br>
               <div id="orificeData">
          <fieldset>
            <legend>~LANG_GUI_ORIFICE_DATA~</legend>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE1_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE1_FLOW" name="dORIFICE1_FLOW" value="~dORIFICE1_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #1 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE1_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE1_PRESS" name="dORIFICE1_PRESS" value="~dORIFICE1_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #1 in in/wg</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE2_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE2_FLOW" name="dORIFICE2_FLOW" value="~dORIFICE2_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #2 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE2_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE2_PRESS" name="dORIFICE2_PRESS" value="~dORIFICE2_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #2 in in/wg</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE3_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE3_FLOW" name="dORIFICE3_FLOW" value="~dORIFICE3_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #3 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE3_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE3_PRESS" name="dORIFICE3_PRESS" value="~dORIFICE3_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #3 in in/wg</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE4_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE4_FLOW" name="dORIFICE4_FLOW" value="~dORIFICE4_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #4 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE4_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE4_PRESS" name="dORIFICE4_PRESS" value="~dORIFICE4_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #4 in in/wg</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE5_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE5_FLOW" name="dORIFICE5_FLOW" value="~dORIFICE5_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #5 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE5_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE5_PRESS" name="dORIFICE5_PRESS" value="~dORIFICE5_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #5 in in/wg</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE6_FLOW~:</label>&nbsp;<input type="text" id="dORIFICE6_FLOW" name="dORIFICE6_FLOW" value="~dORIFICE6_FLOW~" class="config-text"><span class="tooltiptext">Flow rate of orifice #6 in cfm</span></div>
            <div class="config-row tooltip"><label class="config-label">~LANG_GUI_ORIFICE6_PRESSURE~:</label>&nbsp;<input type="text" id="dORIFICE6_PRESS" name="dORIFICE6_PRESS" value="~dORIFICE6_PRESS~" class="config-text"><span class="tooltiptext">Test Pressure for orifice #6 in in/wg</span></div>
          </fieldset>
            <br>
               </div>
               <br>
          <fieldset>
            <legend>~LANG_GUI_API_SETTINGS~</legend>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_API_DELIMITER~:</label>&nbsp;<input type="text" id="sAPI_DELIM" name="sAPI_DELIM" value="~sAPI_DELIM~" class="config-text"><span class="tooltiptext">Character used to delimit API / Serial data </span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_SERIAL_BAUD~:</label>&nbsp;<input type="text" id="iSERIAL_BAUD" name="iSERIAL_BAUD" value="~iSERIAL_BAUD~" class="config-text"><span class="tooltiptext">Baud rate for serial communication</span></div>
          </fieldset>
               <div class="float-right"><input id="save-config-button" type="submit" class="button" value="Save"></div>
               <br>
               <br>
             </form>
             <br>
             <br>
             <form method="POST" action="/api/savecalibration">
               <h2>~LANG_GUI_CALIBRATION_DATA~</h2>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_CAL_OFFSET~:</label>&nbsp;<input type="text" id="FLOW_OFFSET" name="FLOW_OFFSET" value="~FLOW_OFFSET~" class="config-text"><span class="tooltiptext">Measured calibration offset</span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_LEAK_TEST_BASELINE~:</label>&nbsp;<input  type="text" id="LEAK_BASE" name="LEAK_BASE" value="~LEAK_BASE~" class="config-text"><span class="tooltiptext">Baseline Offset</span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_LEAK_TEST_OFFSET~:</label>&nbsp;<input  type="text" id="LEAK_OFFSET" name="LEAK_OFFSET" value="~LEAK_OFFSET~" class="config-text"><span class="tooltiptext">Measured leak test value</span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_LEAK_TEST_BASELINE_REV~:</label>&nbsp;<input  type="text" id="LEAK_BASE_REV" name="LEAK_BASE_REV" value="~LEAK_BASE_REV~" class="config-text"><span class="tooltiptext">Baseline Offset (Reverse Flow)</span></div>
               <div class="config-row tooltip"><label class="config-label">~LANG_GUI_LEAK_TEST_OFFSET_REV~:</label>&nbsp;<input type="text" id="LEAK_OFFSET_REV" name="LEAK_OFFSET_REV" value="~LEAK_OFFSET_REV~" class="config-text"><span class="tooltiptext">Measured leak test value (Reverse Flow)</span></div>
               <br>
               <div class="float-right"><input id="save-config-button" type="submit" class="button" value="~LANG_GUI_OVERWRITE~"></div>
             </form>
           </div>                    
              </div>
            </div>